:root { 
    --bg:#0a0a0a; --panel:#161616; --text:#e0e0e0; 
    --arm:#00E676; --glove:#00e5ff; 
    --add:#00E676; --sub:#FF3333; --calib:#FFD700; --mode:#ea80fc; --dynamic:#bb86fc; --lock:#ff9800;
}

/* Base resets */
* { box-sizing: border-box; } 

body { 
    background: var(--bg); color: var(--text); font-family: 'Segoe UI', monospace; 
    margin: 0; padding: 0; 
    height: 100vh; width: 100vw; overflow: hidden;
}

/* Main Grid Layout */
.layout-grid {
    display: grid;
    grid-template-columns: 480px 1fr; 
    height: 100%;
    width: 100%;
    padding: 15px;
    gap: 15px;
}

/* SIDEBAR */
.sidebar { 
    background: var(--panel); 
    padding: 15px; 
    border-right: 1px solid #333; 
    display: flex; flex-direction: column; gap: 10px; 
    overflow-y: auto; 
    height: 100%;
}

/* NEW: Console Box for Verbose Logging */
.console-box {
    background: #000;
    border: 1px solid #444;
    color: #00FF00;
    font-family: 'Consolas', monospace;
    font-size: 10px;
    height: 150px; /* Fixed height for scrolling */
    overflow-y: scroll;
    padding: 8px;
    white-space: pre-wrap;
    margin-bottom: 10px;
    border-radius: 4px;
    box-shadow: inset 0 0 10px #000;
}

.group { background: #1f1f1f; padding: 12px; border-radius: 8px; border: 1px solid #333; position: relative; }
h3 { margin: 0 0 8px 0; border-bottom: 1px solid #444; padding-bottom: 5px; font-size:12px; text-transform:uppercase; letter-spacing:1px; display: flex; justify-content: space-between;}

.row { display: flex; justify-content: space-between; font-size: 11px; margin-bottom: 3px; color:#aaa; }
.val { font-weight: bold; font-family: monospace; color: #fff; }

/* CONTROLS */
.map-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 4px; margin-bottom: 8px; }
.map-btn { 
    background: #2a2a2a; border: 1px solid #444; color: #888; padding: 6px; 
    font-size: 10px; cursor: pointer; text-align: center; border-radius: 4px; user-select: none;
}
.map-btn[data-state="1"] { background: var(--add); color: #000; font-weight: bold; }
.map-btn[data-state="-1"] { background: var(--sub); color: #fff; font-weight: bold; }

input[type="range"] { width: 100%; margin: 4px 0 8px; accent-color: #666; height: 4px; }
label { font-size: 10px; color: #888; display:block; margin-top:4px; font-weight:bold; }

.btn-main { width: 100%; padding: 10px; background: #333; color: white; border: none; cursor: pointer; font-weight:bold; border-radius: 4px; }
.btn-main:hover { background: #444; }
.btn-calib { background: var(--calib); color: black; margin-top: 10px; }

/* TOGGLE ROWS */
.chk-row { display:flex; gap:8px; align-items:center; margin-bottom:5px; background:#111; padding:5px; border-radius:4px; border:1px solid #333; }
.chk-row:hover { border-color:#555; }
.chk-row input { margin:0; width:auto; height:auto; }

/* ARENA */
.arena-container {
    width: 100%; height: 100%;
    overflow: hidden;
    position: relative;
}

.arena { 
    position: relative; 
    width: 100%; height: 100%; 
    border: 2px dashed #333; border-radius: 12px; 
    overflow: hidden; 
    background: #000;
}

.cursor {
    position: absolute; width: 24px; height: 24px;
    border-radius: 50%; transform: translate(-50%, -50%);
    display: flex; align-items: center; justify-content: center;
    font-size: 10px; font-weight: bold; color: black; z-index: 10;
    box-shadow: 0 0 10px white;
}
.cursor.click { width: 18px; height: 18px; border: 3px solid white; }
#cursor-arm { background: var(--arm); box-shadow: 0 0 20px rgba(0,230,118,0.5); }
#cursor-glove { background: var(--glove); box-shadow: 0 0 20px rgba(0,229,255,0.5); }

.status-badge { padding: 2px 6px; border-radius: 4px; font-size:10px; font-weight:bold; background:#333; color:#888; }

/* OVERLAY */
#calib-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.95); z-index: 100; display: none;
    align-items: center; justify-content: center; flex-direction: column;
    color: white; text-align: center;
}
#calib-step { font-size: 24px; color: var(--calib); font-weight: bold; margin-bottom: 10px; }
#calib-instr { font-size: 16px; color: #ccc; margin-bottom: 20px; max-width: 400px; }
#calib-val { font-family: monospace; color: #666; margin-bottom: 30px; font-size: 14px; }